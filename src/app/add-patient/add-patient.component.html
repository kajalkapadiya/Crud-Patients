<form
  (ngSubmit)="onSubmit()"
  #patientForm="ngForm"
  class="container mt-4"
  novalidate
>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="name">Name</label>
      <input
        type="text"
        class="form-control"
        id="name"
        placeholder="Name"
        [(ngModel)]="patient.name"
        name="name"
        #name="ngModel"
        required
      />
      <div *ngIf="name.invalid && name.touched" class="error">
        Name is required.
      </div>
    </div>

    <div class="form-group col-md-6">
      <label for="age">Age</label>
      <input
        type="number"
        class="form-control"
        id="age"
        placeholder="Age"
        [(ngModel)]="patient.age"
        name="age"
        min="0"
        max="100"
        #age="ngModel"
      />
      <div *ngIf="age.invalid && age.touched" class="error">
        Age must be between 0 and 120.
      </div>
    </div>
  </div>

  <div class="form-group">
    <label for="address">Address</label>
    <input
      type="text"
      class="form-control"
      id="address"
      placeholder="1234 Main St"
      [(ngModel)]="patient.address"
      name="address"
      required
      maxlength="255"
      #address="ngModel"
    />
    <div *ngIf="address.invalid && address.touched" class="error">
      Address is required and must be less than 255 characters.
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="zipcode">Zipcode</label>
      <input
        type="number"
        class="form-control"
        id="zipcode"
        placeholder="Zipcode"
        [(ngModel)]="patient.zipcode"
        name="zipcode"
        required
        maxlength="6"
        #zipcode="ngModel"
      />
      <div *ngIf="zipcode.invalid && zipcode.touched" class="error">
        Zipcode is required and must be less than 7 digits.
      </div>
    </div>
    <div class="form-group col-md-6">
      <label for="mobile">Mobile</label>
      <input
        type="number"
        class="form-control"
        id="mobile"
        placeholder="Mobile"
        [(ngModel)]="patient.mobile"
        name="mobile"
        #mobile="ngModel"
        required
        pattern="^[0-9]{10}$"
        maxlength="10"
      />
      <div *ngIf="mobile.invalid && mobile.touched" class="error">
        Mobile number must be exactly 10 digits.
      </div>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="first_name">First Name</label>
      <input
        type="text"
        class="form-control"
        id="first_name"
        placeholder="First Name"
        [(ngModel)]="patient.first_name"
        name="first_name"
        required
        maxlength="50"
        #first_name="ngModel"
      />
      <div *ngIf="first_name.invalid && first_name.touched" class="error">
        First Name is required and must be less than 51 characters.
      </div>
    </div>
    <div class="form-group col-md-6">
      <label for="last_name">Last Name</label>
      <input
        type="text"
        class="form-control"
        id="last_name"
        placeholder="Last Name"
        [(ngModel)]="patient.last_name"
        name="last_name"
        maxlength="50"
        #last_name="ngModel"
      />
      <div *ngIf="last_name.invalid && last_name.touched" class="error">
        Last Name must be less than 51 characters.
      </div>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="dob">Date of Birth</label>
      <input
        type="date"
        class="form-control"
        id="dob"
        [(ngModel)]="patient.dob"
        name="dob"
      />
    </div>
    <div class="form-group col-md-6">
      <label for="gender">Gender</label>
      <select
        id="gender"
        class="form-control"
        [(ngModel)]="patient.gender"
        name="gender"
      >
        <option selected>Choose...</option>
        <option value="male">Male</option>
        <option value="female">Female</option>
        <option value="other">Other</option>
      </select>
    </div>
  </div>

  <div class="form-group">
    <label for="blood_group">Blood Group</label>
    <input
      type="text"
      class="form-control"
      id="blood_group"
      placeholder="Blood Group"
      [(ngModel)]="patient.blood_group"
      (ngModelChange)="capitalizeBloodGroup()"
      name="blood_group"
      #blood_group="ngModel"
      maxlength="3"
    />
    <div *ngIf="blood_group.invalid && blood_group.touched" class="error">
      Blood Group must be less than 3 characters.
    </div>
  </div>

  <div class="form-group">
    <label for="email">Email</label>
    <input
      type="email"
      class="form-control"
      id="email"
      placeholder="Email"
      [(ngModel)]="patient.email"
      name="email"
      required
      email
      #email="ngModel"
    />
    <div *ngIf="email.invalid && email.touched" class="error">
      Valid email is required.
    </div>
  </div>

  <div class="form-group">
    <label for="password">Password</label>
    <input
      type="password"
      class="form-control"
      id="password"
      placeholder="Password"
      [(ngModel)]="patient.password"
      name="password"
      required
      minlength="6"
      #password="ngModel"
    />
    <div *ngIf="password.invalid && password.touched" class="error">
      Password is required and must be at least 6 characters long.
    </div>
  </div>

  <button type="submit" class="btn btn-primary" [disabled]="!patientForm.valid">
    Add Patient
  </button>
</form>
